<div class="drag-and-drop__panel">
  <h3>{{ config.title }}</h3>
  <app-filter-input
    class="drag-and-drop-panel-filter"
    [debounce]="filterDebounceTime"
    (filter)="filterChangeHandler($event)"
  ></app-filter-input>
  @if (isLoading()) {
  <div
    [id]="'drag-and-drop-panel-' + side"
    class="drag-and-drop__panel-list"
    role="list"
    cdkDropList
    [cdkDropListData]="items"
    (cdkDropListDropped)="dropHandler($event)"
  >
    @for (item of filteredItems; track $index) {
    <div
      role="listitem"
      cdkDrag
      class="drag-and-drop__panel-list-item"
      (dblclick)="doubleClickHandler($event)"
    >
      <mat-icon>{{ dragIndicatorIcon }}</mat-icon>
      <mat-checkbox
        *ngIf="config.isSelectable"
        [checked]="item.selected"
        (change)="item.selected = $event.checked"
      ></mat-checkbox>
      <div class="drag-and-drop__item-label">
        {{ item.description }}
      </div>
      <span
        class="drag-and-drop__item-status"
        [ngClass]="statusClass"
        *ngIf="config.hasStatus"
      ></span>
      <button mat-icon-button color="primary" *ngIf="config.hasActionButton">
        <mat-icon>{{ config.actionButtonIcon }}</mat-icon>
      </button>
    </div>
    }
  </div>
  } @else {
  <div class="drag-and-drop__panel-list">
    @for (item of emptyList; track $index) {
    <ngx-skeleton-loader
      class="drag-and-drop__panel-list-item drag-and-drop__panel-list-item--skeleton"
    ></ngx-skeleton-loader>
    }
  </div>
  }
</div>
